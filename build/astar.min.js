var GraphNode=function(){function t(t,n,r,e){this.x=t,this.y=n,this.z=r,this.weight=e,this.connections=[]}return t.prototype.getConnections=function(){return this.connections},t.prototype.connectTo=function(t){this.connections.push(t)},t}(),Graph=function(){function t(){this.nodes=[]}return t.prototype.getNode=function(t,n){for(var r=0;r<this.nodes.length;r++){var e=this.nodes[r];if(e.x==t&&e.y==n)return e}return null},t.prototype.getNodes=function(){return this.nodes},t.prototype.fromArray=function(t){this.nodes=[];for(var n=t[0].length,r=t.length,e=0;r>e;e++)for(var o=0;n>o;o++){var i=t[e][o],s=new GraphNode(o,e,0,i);this.nodes.push(s)}for(var e=0;e<this.nodes.length;e++)for(var a=this.nodes[e],h=-1;1>=h;h++)for(var u=-1;1>=u;u++)if((0!=h||0!=u)&&!(a.x+h<0||a.x+h>=n||a.y+u<0||a.y+u>=r)){var s=this.nodes[e+n*u+h];this.nodes[e].connectTo(s)}},t}(),Heuristic=function(){function t(){}return t}(),AStar=function(){function t(t){this.graph=new Graph,this.heuristic=t}return t.prototype.getGraph=function(){return this.graph},t.prototype.path=function(t,n){for(var r=new Array,e=new Array,o=new PathNode(0,this.heuristic.getHeuristic(t.x,t.y,t.z,n.x,n.y,n.z),null,t),i=0;100>i&&o.data!=n;i++){for(var s=null,a=-1,h=0;h<r.length;h++)(null==s||s.f()>r[h].f())&&(s=r[h],a=h);null!=s&&(r.splice(a,1),e.push(s),o=s);for(var u=o.data.getConnections(),h=0;h<u.length;h++){for(var c=!0,p=-1,f=0;f<r.length;f++)r[f].data.x==u[h].x&&r[f].data.y==u[h].y&&r[f].data.z==u[h].z&&(p=f);for(var f=0;f<e.length;f++)e[f].data.x==u[h].x&&e[f].data.y==u[h].y&&e[f].data.z==u[h].z&&(c=!1);var d=u[h],y=o.g;y+=Math.sqrt(Math.pow(o.data.x-d.x,2)+Math.pow(o.data.y-d.y,2)+Math.pow(o.data.z-d.z,2))*d.weight;var l=this.heuristic.getHeuristic(d.x,d.y,d.z,n.x,n.y,n.z);-1==p&&c?r.push(new PathNode(y,l,o,d)):p>-1&&y+l<r[p].f()&&c&&(r[p].g=y,r[p].h=l,r[p].previous=o)}}for(var g=new Array;null!=o;)g.push(o.data),o=o.previous;return g.reverse(),g},t.prototype.load=function(t){this.graph.fromArray(t)},t}(),PathNode=function(){function t(t,n,r,e){this.g=t,this.h=n,this.previous=r,this.data=e}return t.prototype.f=function(){return this.g+this.h},t}(),__extends=this&&this.__extends||function(t,n){function r(){this.constructor=t}for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e]);t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)},DijkstrasHeuristic=function(t){function n(){t.call(this)}return __extends(n,t),n.prototype.getHeuristic=function(t,n,r,e,o,i){return 0},n}(Heuristic),EuclideanHeuristic=function(t){function n(){t.call(this)}return __extends(n,t),n.prototype.getHeuristic=function(t,n,r,e,o,i){return Math.sqrt(Math.pow(e-t,2)+Math.pow(o-n,2)+Math.pow(i-r,2))},n}(Heuristic),ManhattenHeuristic=function(t){function n(){t.call(this)}return __extends(n,t),n.prototype.getHeuristic=function(t,n,r,e,o,i){return Math.abs(e-t)+Math.abs(o-n)+Math.abs(i-r)},n}(Heuristic);